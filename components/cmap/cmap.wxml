<!--components/cmap/cmap.wxml-->
<scroll-view class='map-con' style='width:{{conWd}}rpx; height:{{conHt}}rpx;' scroll-x='{{true}}' scroll-y='{{true}}' scroll-left='{{scrollLeft}}' scroll-top='{{scrollTop}}' scroll-with-animation='{{true}}' bind:touchstart='touchStart' bind:touchmove='touchMove' bind:touchend='touchEnd' bind:tap='touchTap'>
  <image wx:if='{{mapBg}}' src='{{mapBg}}' style='position:absolute;top:0;left:0; z-index:{{mapZ}}; height:{{ mapHeight * scale * scale}}rpx; width:{{ mapWidth * scale * scale}}rpx'></image>
  <view class='cmap-layer' style='position:absolute;box-sizing:border-box;text-align:center;transform-origin: 0 0;width:{{innerWd * scale}}rpx; height: {{innerHt * scale}}rpx; transform: scale({{scale}}, {{scale}});' >
    <element wx:for='{{provinces}}' wx:key='{{index}}' style='position:absolute;left:{{item.x * scale }}rpx;top:{{item.y * scale}}rpx; height:{{item.imgHt * scale}}rpx; width:{{item.imgWd * scale}}rpx' imgWd='{{item.imgWd}}' imgHt='{{item.imgHt}}'
      statusImgs='{{item.statusImgs}}' txt='{{item.hideName ? "" : item.name}}' txtX='{{item.txtX * scale}}' txtY='{{item.txtY * scale}}' status='{{item.light ? 1 : 0}}' ></element>

     <element wx:for='{{citys}}' wx:key='{{index}}' class='{{item.light ? "light" : ""}}' style='position:absolute;left:{{item.x * scale}}rpx;top:{{item.y * scale}}rpx; height:{{item.imgHt * scale}}rpx; width:{{item.imgWd * scale}}rpx' imgWd='{{item.imgWd}}' imgHt='{{item.imgHt}}'
      statusImgs='{{item.statusImgs}}' txt='{{item.hideName ? "" : item.name}}' txtX='{{item.txtX * scale}}' txtY='{{item.txtY * scale}}' status='{{item.light ? 1 : 0}}'></element>

  
    <!-- 航线 -->
    <view wx:for='{{lines}}' wx:key='{{index}}' class='air-line {{item.arcBtm ? "arc-btm" : ""}}' style='position:absolute; left:{{item.from.x * scale}}rpx; top:{{item.from.y * scale}}rpx;transform: rotate({{item.rotation}}deg); height:{{item.ht * scale}}rpx; width:{{item.dist * scale}}rpx;'></view>

    <!-- 飞机 -->
    <image wx:for='{{planes}}' wx:key='{{index}}' class='air-plane' src='https://gengxin.odao.com/update/h5/travel/travelLog/airplane.png' style="position:absolute; left:{{item.x * scale}}rpx; top:{{item.y * scale}}rpx; transform:translate(-50%, -50%) rotate({{item.rotation}}deg);"></image>

    <element wx:for='{{players}}' wx:key='{{index}}' isPlayer='{{true}}' wx:key='{{index}}' style='position:absolute;left:{{item.x * scale}}rpx;top:{{item.y * scale}}rpx; height:{{item.imgHt * scale}}rpx; width:{{item.imgWd * scale}}rpx' imgWd='{{item.imgWd}}' imgHt='{{item.imgHt}}'
      statusImgs='{{item.statusImgs}}' txt='{{item.hideName ? "" : item.name}}' txtX='{{item.txtX * scale}}' txtY='{{item.txtY * scale}}'></element>


  </view>
</scroll-view>